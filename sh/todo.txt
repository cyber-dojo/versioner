
DONE Fix build error for start-points-base
DONE Create makefile with targets for: build test publish
DONE In main2.yml make last step: make build test publish
DONE Rename versioner's main2.yml to main.yml and run it on main  (s/wibble/main)
DONE Rename versioner's sh/service-latest-env.sh to sh/refresh-env.sh
DONE Delete build_test_publish.sh
DONE Try new versioner:
  $ ./sh/refresh-env.sh
  $ make build test
DONE: Edit CSP's main.yml so it no longer pushes its dockerhub image.
DONE: Deploy CSP to staging and to prod

DONE: Run versioner update, commit, finished workflow, pull new versioner image, check
  - get new CSP sha/tag/digest
  - new versioner image has these
  - can run web demo

DONE: Fix WARNINGS from [make run_tests]
DONE: Add [in CI] check to publish_service_images, add makefile target, use in main.yml
DONE: Don't fail curls silently.
  checks are in subshells so cant exit.
  output XXXXXX and then look for that in the .json files

DONE: Update readme to do [make refresh_env build_image run_tests]

Create extra tests under /test dir, for each json file
  Pre service images
  DONE:  - check no XXXX entries produced from curls. This could be a local test, run before workflow
  DONE:  - check tag matches the one in the image_name. This could be a local test, run before workflow

  Post service images
  DONE:  - check digest of dockerhub image matches suffix from aws-prod snapshot. This can only run in workflow

DONE: Update tests into two: pre_service_build and post_service_build
DONE: Update run_tests makefile target so that it runs tests it can when not in CI workflow.

DONE: Upgrade base image in Dockerfile
DONE: Move Dockerfile to root of repo


